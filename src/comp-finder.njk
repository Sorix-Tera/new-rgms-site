---
layout: layouts/base.njk
title: "Comp Finder · TangledSpore's RGMs!"
permalink: "comp-finder.html"
---

<main class="page" id="compFinderPage">
  <header class="page-header">
    <h1 class="page-title">Comp Finder</h1>
    <p class="page-subtitle">
      Browse best-performing comps aggregated across all players.
    </p>
    <p class="page-status" id="cfLoadStatus"></p>
  </header>

  <section class="filters" aria-label="Comp Finder filters">
    <div class="filters-group">
      <label class="filters-label" for="cfModeSelect">Mode</label>
      <select id="cfModeSelect" class="filters-select">
        {% for item in nav.treasureScramble %}
          <option value="{{ item.mode }}" {% if item.mode == "ts-forest" %}selected{% endif %}>{{ item.label }}</option>
        {% endfor %}
      </select>
    </div>


    <div class="filters-group">
      <label class="filters-label">Regions</label>

      <details class="cf-region" id="cfRegionDropdown">
        <summary class="filters-select cf-region-summary">
          <span id="cfRegionSummary">All regions</span>
        </summary>

        <div class="cf-region-menu" role="listbox" aria-label="Regions">
          <label class="cf-region-item">
            <input type="checkbox" id="cfRegionAll" value="all" checked />
            <span>All regions</span>
          </label>

          <label class="cf-region-item">
            <input type="checkbox" class="cf-region-range" value="r1-20" checked />
            <span>R1–R20</span>
          </label>

          <label class="cf-region-item">
            <input type="checkbox" class="cf-region-range" value="r21-40" checked />
            <span>R21–R40</span>
          </label>

          <label class="cf-region-item">
            <input type="checkbox" class="cf-region-range" value="r41plus" checked />
            <span>R41+</span>
          </label>
        </div>
      </details>
    </div>

    <div class="filters-group cf-density-filters" aria-label="Density filters">
      <span class="filters-label">Show</span>

      <label class="cf-check">
        <input type="checkbox" id="cfShowRed" checked />
        <span class="cf-check-pill cf-pill-red">Low</span>
      </label>

      <label class="cf-check">
        <input type="checkbox" id="cfShowOrange" checked />
        <span class="cf-check-pill cf-pill-orange">Medium</span>
      </label>

      <label class="cf-check">
        <input type="checkbox" id="cfShowGreen" checked />
        <span class="cf-check-pill cf-pill-green">High</span>
      </label>
    </div>

    <span class="filters-spacer"></span>

    <div class="filters-group">
      <span class="filters-label">Legend (number of times used)</span>
      <span class="filters-badge">Low ≤ 2</span>
      <span class="filters-badge">Medium 3–6</span>
      <span class="filters-badge">High ≥ 7</span>
    </div>
  </section>

  <section aria-label="Teams buckets">
    <div class="cf-tabs" role="tablist" aria-label="Teams buckets">
      <button class="cf-tab is-active" id="cfTab23" role="tab" aria-selected="true" aria-controls="cfPanel23" data-bucket="2-3">2–3 teams</button>
      <button class="cf-tab" id="cfTab45" role="tab" aria-selected="false" aria-controls="cfPanel45" data-bucket="4-5">4–5 teams</button>
      <button class="cf-tab" id="cfTab67" role="tab" aria-selected="false" aria-controls="cfPanel67" data-bucket="6-7">6–7 teams</button>
    </div>

    <div class="cf-panels">
      <div class="cf-panel is-active" id="cfPanel23" role="tabpanel" aria-labelledby="cfTab23" data-bucket="2-3">
        <div class="comps-grid" id="cfGrid23"></div>
      </div>

      <div class="cf-panel" id="cfPanel45" role="tabpanel" aria-labelledby="cfTab45" data-bucket="4-5">
        <div class="comps-grid" id="cfGrid45"></div>
      </div>

      <div class="cf-panel" id="cfPanel67" role="tabpanel" aria-labelledby="cfTab67" data-bucket="6-7">
        <div class="comps-grid" id="cfGrid67"></div>
      </div>
    </div>
  </section>
</main>

<style>
  /* Comp Finder: region dropdown (multi-select) */
  .cf-region { position: relative; }
  .cf-region summary { list-style: none; }
  .cf-region summary::-webkit-details-marker { display: none; }

  /* Make the summary look like your selects */
  .cf-region-summary { cursor: pointer; user-select: none; }
  .cf-region[open] .cf-region-summary {
    border-color: rgba(255,255,255,0.18);
  }

  .cf-region-menu {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    z-index: 40;
    min-width: 220px;
    padding: 10px 10px;
    background: rgba(5, 6, 10, 0.95);
    border: 1px solid rgba(255,255,255,0.10);
    border-radius: 12px;
    box-shadow:
      0 1px 0 rgba(255,255,255,0.06) inset,
      0 14px 34px rgba(0,0,0,0.35);
  }

  .cf-region-item {
    display: flex;
    align-items: center;
    gap: 0.55rem;
    padding: 0.35rem 0.35rem;
    cursor: pointer;
    color: var(--text);
  }

  .cf-region-item:hover {
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
  }

  .cf-region-item input {
    transform: translateY(1px);
  }
</style>
